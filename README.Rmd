---
title: "dddr: Three-Dimensional Vector Operations in R"
output: github_document
editor_options: 
  chunk_output_type: console
---

# About

The R package `dddr` is a [`vctrs`](https://github.com/r-lib/vctrs/)-based package for working with three-diensional spatial data. It gives three-dimensional objects like points, velocities, and rotations first-class vector status in R, enabling usage as column types within `data.frame` and `tibble`.

In contrast to most spatial R packages like `sf` or `rspatial` that work with geographic, 2-dimensional data, `dddr` works best with 3-dimensional data. The origin of this package was to analyze behavioral data (e.g, hand motion, head direction) in studies of virtual and augmented reality. 

[![Build Status](https://travis-ci.com/MrMallIronmaker/dddr.svg?branch=master)](https://travis-ci.com/MrMallIronmaker/dddr)

# Quick View

```{r setup, message=FALSE, warning=FALSE}
library(tidyverse)
library(dddr)
```

```{R}
spiral <- tibble(i = seq(0, 10*pi, 0.05)) %>%
  mutate(
    # vector3s are created using three numeric vector arguments,
    # and thanks to dplyr, can refer to other columns in the dataframe
    circular_part = vector3(x=cos(i), y=sin(i), z=0),
    forward_part = vector3(x=0, y=0, z=i/15),
    # vector3s can be added together and multiplied by numerics 
    spiral_part = circular_part * i / 30 + forward_part
  )

spiral %>% head(10)
```

```{R}
spiral %>%
  # field access uses the $ operator
  ggplot(aes(x=spiral_part$x, y=spiral_part$y)) +
  geom_point() +
  geom_path() +
  coord_equal()
```

```{R}
spiral %>%
  mutate(
    # rotations can be specified using quaternions, axis / angle, or even from / to vectors
    spiral_rotated = rotate(spiral_part, axis=c(0, 1, 0), angle=pi/4)
  ) %>% 
  ggplot(aes(x=spiral_rotated$x, y=spiral_rotated$y)) +
  geom_point() +
  geom_path() +
  coord_equal()
```

# Contributions

Contributions are welcome! The issue tracker in this repo can be used for bug reports, feature requests, and questions - whatever you might need.
